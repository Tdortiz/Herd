<div class="panel">
    <div class="panel-body">
        <form name="form" (ngSubmit)="f.form.valid && submitStatus(f)" #f="ngForm" novalidate>
            <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !status.valid }">
                <label for="status">{{ actionName }} | <small>{{ maxStatusLength - model.status.length }}</small></label>
                <textarea class="form-control" name="status" [(ngModel)]="model.status" #status="ngModel" required placeholder="What's happening?" maxlength="{{ maxStatusLength }}" rows="3"></textarea>
                <div *ngIf="f.submitted && !status.valid" class="help-block">Status is required</div>
            </div>
            <div class="form-horizontal">
                <div class="pull-left">
                    <button type="button" class="btn" title="Upload an image"><fa name="camera"></fa></button>
                    <button type="button" class="btn" [ngClass]="{'btn-warning': model.contentWarning }" title="Content Warning" (click)="toggleContentWarning()"><fa name="exclamation-triangle"></fa></button>
                    <select class="btn" name="visibility" [(ngModel)]="model.visibility" required>
                        <option *ngFor="let visibility of visibilityOptions" [ngValue]="visibility.value" title="{{ visibility.context }}">{{ visibility.option }}</option>
                    </select>
                </div>
                <div class="pull-right">
                    <fa *ngIf="loading" name="spinner" spin=true></fa>
                    <button [disabled]="loading || !f.valid" type="submit" class="btn btn-primary">
                        <span><fa name="pencil"></fa> {{ actionName }}</span>
                    </button>
                </div>
            </div>
        </form>
    </div><!-- /.panel-body -->
</div><!-- /.panel -->